(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendor.aurelia-hot-module-reload~827678cb"],{

/***/ "CShm":
/*!******************************************************************************************************!*\
  !*** ./node_modules/aurelia-hot-module-reload/dist/native-modules/view-model-traverse-controller.js ***!
  \******************************************************************************************************/
/*! exports provided: traverseController, traverseBehaviorResource, traverseViewFactory, traverseViewResources, traverseBehaviorInstruction, traverseViewModel, traverseRouter, traverseRouterView, traverseView, traverseOverrideContext, traverseViewSlot */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"traverseController\", function() { return traverseController; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"traverseBehaviorResource\", function() { return traverseBehaviorResource; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"traverseViewFactory\", function() { return traverseViewFactory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"traverseViewResources\", function() { return traverseViewResources; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"traverseBehaviorInstruction\", function() { return traverseBehaviorInstruction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"traverseViewModel\", function() { return traverseViewModel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"traverseRouter\", function() { return traverseRouter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"traverseRouterView\", function() { return traverseRouterView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"traverseView\", function() { return traverseView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"traverseOverrideContext\", function() { return traverseOverrideContext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"traverseViewSlot\", function() { return traverseViewSlot; });\nvar __assign = (undefined && undefined.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\n/**\n *  traverse interesting places in Controller:\n * - behavior.target (class of ViewModel)\n * - behavior.viewFactory (traverse ViewFactory)\n * - behavior.attributes[array] (?)\n *\n * - viewFactory.instructions[ALL-obj].providers[ALL-arr] (original functions/classes, not instances, things like If)\n * - viewFactory.instructions[ALL-obj].viewFactory\n *\n * - viewFactory.resources (ViewResources)\n *      .bindingBehaviors[name] (instances, can fix up .constructor is class)\n *      .valueConverters[name] (instances, can fix up .constructor is class)\n *\n * - boundProperties[array] ??\n * - container //how can we replace instances in container?\n * - container.children[array<ViewSlot>]?\n * - container\n *      .viewModel? (instance)\n *      .viewResources (ViewResources)\n *\n * - instruction (BehaviorInstruction)\n *      .viewFactory\n *      .viewModel (instance)\n *\n * - scope (View)\n *      .bindingContext (instance)\n *      .children[array<ViewSlot>]\n *      .controller (Controller)\n *      .controllers[array<Controller>]\n *      .overrideContext\n *         .bindingContext? (Instance)\n *         .parentOverrideContext\n *               .bindingContext? (and so on...)\n *      .resources (ViewResources)\n *      .viewFactory (ViewFactory)\n * - view (View)\n * - viewModel (instance or RouterView:)\n *      .overrideContext\n *      .router.viewPorts[ALL-obj]. (RouterView)\n *               .overrideContext\n *               .owningView (View)\n *               .view (View)\n *               .viewSlot (ViewSlot)\n *                     .children[array<View>]\n *                     .bindingContext (instance)\n *                     .overrideContext\n **/\nfunction traverseController(classOrFunction, controller, info) {\n    var matches = [];\n    if (!controller || info.previouslyTraversed.has(controller))\n        return matches;\n    info.previouslyTraversed.add(controller);\n    matches.push.apply(matches, traverseBehaviorResource(classOrFunction, controller.behavior, __assign({}, info, { parentController: controller, immediateParent: controller, propertyInParent: 'behavior' })).concat(traverseBehaviorInstruction(classOrFunction, controller.instruction, __assign({}, info, { parentController: controller, immediateParent: controller, propertyInParent: 'instruction' })), traverseView(classOrFunction, controller.scope, __assign({}, info, { parentController: controller, immediateParent: controller, propertyInParent: 'scope' })), traverseView(classOrFunction, controller.view, __assign({}, info, { parentController: controller, immediateParent: controller, propertyInParent: 'view' })), traverseViewModel(classOrFunction, controller.viewModel, __assign({}, info, { parentController: controller, immediateParent: controller, propertyInParent: 'viewModel' }))));\n    return matches;\n}\nfunction traverseBehaviorResource(classOrFunction, behavior, info) {\n    var matches = [];\n    if (!behavior || info.previouslyTraversed.has(behavior))\n        return matches;\n    info.previouslyTraversed.add(behavior);\n    if (behavior.target === classOrFunction) {\n        matches.push(__assign({}, info, { immediateParent: behavior, propertyInParent: 'target' }));\n    }\n    matches.push.apply(matches, traverseViewFactory(classOrFunction, behavior.viewFactory, __assign({}, info, { immediateParent: behavior, propertyInParent: 'viewFactory' })));\n    return matches;\n}\nfunction traverseViewFactory(classOrFunction, viewFactory, info) {\n    var matches = [];\n    if (!viewFactory || info.previouslyTraversed.has(viewFactory))\n        return matches;\n    info.previouslyTraversed.add(viewFactory);\n    if (viewFactory.instructions) {\n        Object.keys(viewFactory.instructions).forEach(function (instructionKey) {\n            var instruction = viewFactory.instructions[instructionKey];\n            matches.push.apply(matches, traverseViewFactory(classOrFunction, instruction.viewFactory, __assign({}, info, { immediateParent: instruction, propertyInParent: 'viewFactory' })));\n            if (instruction.providers && instruction.providers.length) {\n                instruction.providers.forEach(function (providerKey, index) {\n                    if (providerKey === classOrFunction) {\n                        matches.push(__assign({}, info, { immediateParent: instruction.providers, propertyInParent: index }));\n                    }\n                });\n            }\n        });\n    }\n    if (viewFactory.resources) {\n        matches.push.apply(matches, traverseViewResources(classOrFunction, viewFactory.resources, __assign({}, info, { immediateParent: viewFactory, propertyInParent: 'resources' })));\n    }\n    return matches;\n}\nfunction traverseViewResources(classOrFunction, viewResources, info) {\n    var matches = [];\n    if (!viewResources || info.previouslyTraversed.has(viewResources))\n        return matches;\n    info.previouslyTraversed.add(viewResources);\n    ['bindingBehaviors', 'valueConverters'].forEach(function (type) {\n        var viewResourceInstances = viewResources[type];\n        if (viewResourceInstances) {\n            Object.keys(viewResourceInstances).forEach(function (key) {\n                var instance = viewResourceInstances[key];\n                if (instance && instance.constructor === classOrFunction) {\n                    matches.push(__assign({}, info, { immediateParent: viewResourceInstances, propertyInParent: key, instance: true }));\n                }\n            });\n        }\n    });\n    matches.push.apply(matches, traverseViewResources(classOrFunction, viewResources.parent, __assign({}, info, { immediateParent: viewResources, propertyInParent: 'parent' })));\n    return matches;\n}\nfunction traverseBehaviorInstruction(classOrFunction, behaviorInstruction, info) {\n    var matches = [];\n    if (!behaviorInstruction || info.previouslyTraversed.has(behaviorInstruction))\n        return matches;\n    info.previouslyTraversed.add(behaviorInstruction);\n    matches.push.apply(matches, traverseViewFactory(classOrFunction, behaviorInstruction.viewFactory, __assign({}, info, { immediateParent: behaviorInstruction, propertyInParent: 'viewFactory' })).concat(traverseViewModel(classOrFunction, behaviorInstruction.viewModel, __assign({}, info, { immediateParent: behaviorInstruction, propertyInParent: 'viewModel' }))));\n    return matches;\n}\nfunction traverseViewModel(classOrFunction, viewModel, info) {\n    var matches = [];\n    if (!viewModel)\n        return matches;\n    var duplicate = info.previouslyTraversed.has(viewModel);\n    info.previouslyTraversed.add(viewModel);\n    if (viewModel.constructor === classOrFunction) {\n        matches.push(__assign({}, info, { instance: true, duplicate: duplicate }));\n        if (duplicate) {\n            return matches;\n        }\n    }\n    matches.push.apply(matches, traverseOverrideContext(classOrFunction, viewModel.overrideContext, __assign({}, info, { immediateParent: viewModel, propertyInParent: 'overrideContext' })).concat(traverseRouter(classOrFunction, viewModel.router, __assign({}, info, { immediateParent: viewModel, propertyInParent: 'router' }))));\n    return matches;\n}\nfunction traverseRouter(classOrFunction, router, info) {\n    var matches = [];\n    if (!router || info.previouslyTraversed.has(router))\n        return matches;\n    info.previouslyTraversed.add(router);\n    if (router.viewPorts) {\n        Object.keys(router.viewPorts).forEach(function (key) {\n            var viewPort = router.viewPorts[key]; // as RouterView;\n            matches.push.apply(// as RouterView;\n            matches, traverseRouterView(classOrFunction, viewPort, __assign({}, info, { immediateParent: router.viewPorts, propertyInParent: key })));\n        });\n    }\n    return matches;\n}\nfunction traverseRouterView(classOrFunction, routerView, info) {\n    var matches = [];\n    if (!routerView || info.previouslyTraversed.has(routerView))\n        return matches;\n    info.previouslyTraversed.add(routerView);\n    matches.push.apply(matches, traverseOverrideContext(classOrFunction, routerView.overrideContext, __assign({}, info, { immediateParent: routerView, propertyInParent: 'overrideContext' })).concat(traverseView(classOrFunction, routerView.owningView, __assign({}, info, { immediateParent: routerView, propertyInParent: 'owningView' })), traverseView(classOrFunction, routerView.view, __assign({}, info, { immediateParent: routerView, propertyInParent: 'view' })), traverseViewSlot(classOrFunction, routerView.viewSlot, __assign({}, info, { immediateParent: routerView, propertyInParent: 'viewSlot' }))));\n    return matches;\n}\nfunction traverseView(classOrFunction, view, info) {\n    var matches = [];\n    if (!view || info.previouslyTraversed.has(view))\n        return matches;\n    info.previouslyTraversed.add(view);\n    matches.push.apply(matches, traverseViewModel(classOrFunction, view.bindingContext, __assign({}, info, { relatedView: view, immediateParent: view, propertyInParent: 'bindingContext' })).concat(traverseController(classOrFunction, view.controller, __assign({}, info, { relatedView: view, immediateParent: view, propertyInParent: 'controller' })), traverseOverrideContext(classOrFunction, view.overrideContext, __assign({}, info, { relatedView: view, immediateParent: view, propertyInParent: 'overrideContext' })), traverseViewResources(classOrFunction, view.resources, __assign({}, info, { relatedView: view, immediateParent: view, propertyInParent: 'resources' })), traverseViewFactory(classOrFunction, view.viewFactory, __assign({}, info, { relatedView: view, immediateParent: view, propertyInParent: 'viewFactory' }))));\n    if (view.controllers && view.controllers.length) {\n        view.controllers.forEach(function (controller, index) {\n            matches.push.apply(matches, traverseController(classOrFunction, controller, __assign({}, info, { relatedView: view, immediateParent: view.controllers, propertyInParent: index })));\n        });\n    }\n    if (view.children && view.children.length) {\n        view.children.forEach(function (viewSlot, index) {\n            matches.push.apply(matches, traverseViewSlot(classOrFunction, viewSlot, __assign({}, info, { childOfViewSlot: viewSlot, relatedView: view, immediateParent: view.children, propertyInParent: index })));\n        });\n    }\n    return matches;\n}\nfunction traverseOverrideContext(classOrFunction, overrideContext, info) {\n    var matches = [];\n    if (!overrideContext || info.previouslyTraversed.has(overrideContext))\n        return matches;\n    info.previouslyTraversed.add(overrideContext);\n    matches.push.apply(matches, traverseViewModel(classOrFunction, overrideContext.bindingContext, __assign({}, info, { immediateParent: overrideContext, propertyInParent: 'bindingContext' })).concat(traverseOverrideContext(classOrFunction, overrideContext.parentOverrideContext, __assign({}, info, { immediateParent: overrideContext, propertyInParent: 'parentOverrideContext' }))));\n    return matches;\n}\nfunction traverseViewSlot(classOrFunction, viewSlot, info) {\n    var matches = [];\n    if (!viewSlot || info.previouslyTraversed.has(viewSlot))\n        return matches;\n    info.previouslyTraversed.add(viewSlot);\n    matches.push.apply(matches, traverseViewModel(classOrFunction, viewSlot.bindingContext, __assign({}, info, { immediateParent: viewSlot, propertyInParent: 'bindingContext' })).concat(traverseOverrideContext(classOrFunction, viewSlot.overrideContext, __assign({}, info, { immediateParent: viewSlot, propertyInParent: 'overrideContext' }))));\n    if (viewSlot.children && viewSlot.children.length) {\n        viewSlot.children.forEach(function (child, index) {\n            matches.push.apply(matches, traverseView(classOrFunction, child, __assign({}, info, { childOfViewSlot: viewSlot, relatedView: child, immediateParent: viewSlot.children, propertyInParent: index })));\n        });\n    }\n    return matches;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ1NobS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWhvdC1tb2R1bGUtcmVsb2FkL2Rpc3QvbmF0aXZlLW1vZHVsZXMvdmlldy1tb2RlbC10cmF2ZXJzZS1jb250cm9sbGVyLmpzPzA5MjgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG4vKipcbiAqICB0cmF2ZXJzZSBpbnRlcmVzdGluZyBwbGFjZXMgaW4gQ29udHJvbGxlcjpcbiAqIC0gYmVoYXZpb3IudGFyZ2V0IChjbGFzcyBvZiBWaWV3TW9kZWwpXG4gKiAtIGJlaGF2aW9yLnZpZXdGYWN0b3J5ICh0cmF2ZXJzZSBWaWV3RmFjdG9yeSlcbiAqIC0gYmVoYXZpb3IuYXR0cmlidXRlc1thcnJheV0gKD8pXG4gKlxuICogLSB2aWV3RmFjdG9yeS5pbnN0cnVjdGlvbnNbQUxMLW9ial0ucHJvdmlkZXJzW0FMTC1hcnJdIChvcmlnaW5hbCBmdW5jdGlvbnMvY2xhc3Nlcywgbm90IGluc3RhbmNlcywgdGhpbmdzIGxpa2UgSWYpXG4gKiAtIHZpZXdGYWN0b3J5Lmluc3RydWN0aW9uc1tBTEwtb2JqXS52aWV3RmFjdG9yeVxuICpcbiAqIC0gdmlld0ZhY3RvcnkucmVzb3VyY2VzIChWaWV3UmVzb3VyY2VzKVxuICogICAgICAuYmluZGluZ0JlaGF2aW9yc1tuYW1lXSAoaW5zdGFuY2VzLCBjYW4gZml4IHVwIC5jb25zdHJ1Y3RvciBpcyBjbGFzcylcbiAqICAgICAgLnZhbHVlQ29udmVydGVyc1tuYW1lXSAoaW5zdGFuY2VzLCBjYW4gZml4IHVwIC5jb25zdHJ1Y3RvciBpcyBjbGFzcylcbiAqXG4gKiAtIGJvdW5kUHJvcGVydGllc1thcnJheV0gPz9cbiAqIC0gY29udGFpbmVyIC8vaG93IGNhbiB3ZSByZXBsYWNlIGluc3RhbmNlcyBpbiBjb250YWluZXI/XG4gKiAtIGNvbnRhaW5lci5jaGlsZHJlblthcnJheTxWaWV3U2xvdD5dP1xuICogLSBjb250YWluZXJcbiAqICAgICAgLnZpZXdNb2RlbD8gKGluc3RhbmNlKVxuICogICAgICAudmlld1Jlc291cmNlcyAoVmlld1Jlc291cmNlcylcbiAqXG4gKiAtIGluc3RydWN0aW9uIChCZWhhdmlvckluc3RydWN0aW9uKVxuICogICAgICAudmlld0ZhY3RvcnlcbiAqICAgICAgLnZpZXdNb2RlbCAoaW5zdGFuY2UpXG4gKlxuICogLSBzY29wZSAoVmlldylcbiAqICAgICAgLmJpbmRpbmdDb250ZXh0IChpbnN0YW5jZSlcbiAqICAgICAgLmNoaWxkcmVuW2FycmF5PFZpZXdTbG90Pl1cbiAqICAgICAgLmNvbnRyb2xsZXIgKENvbnRyb2xsZXIpXG4gKiAgICAgIC5jb250cm9sbGVyc1thcnJheTxDb250cm9sbGVyPl1cbiAqICAgICAgLm92ZXJyaWRlQ29udGV4dFxuICogICAgICAgICAuYmluZGluZ0NvbnRleHQ/IChJbnN0YW5jZSlcbiAqICAgICAgICAgLnBhcmVudE92ZXJyaWRlQ29udGV4dFxuICogICAgICAgICAgICAgICAuYmluZGluZ0NvbnRleHQ/IChhbmQgc28gb24uLi4pXG4gKiAgICAgIC5yZXNvdXJjZXMgKFZpZXdSZXNvdXJjZXMpXG4gKiAgICAgIC52aWV3RmFjdG9yeSAoVmlld0ZhY3RvcnkpXG4gKiAtIHZpZXcgKFZpZXcpXG4gKiAtIHZpZXdNb2RlbCAoaW5zdGFuY2Ugb3IgUm91dGVyVmlldzopXG4gKiAgICAgIC5vdmVycmlkZUNvbnRleHRcbiAqICAgICAgLnJvdXRlci52aWV3UG9ydHNbQUxMLW9ial0uIChSb3V0ZXJWaWV3KVxuICogICAgICAgICAgICAgICAub3ZlcnJpZGVDb250ZXh0XG4gKiAgICAgICAgICAgICAgIC5vd25pbmdWaWV3IChWaWV3KVxuICogICAgICAgICAgICAgICAudmlldyAoVmlldylcbiAqICAgICAgICAgICAgICAgLnZpZXdTbG90IChWaWV3U2xvdClcbiAqICAgICAgICAgICAgICAgICAgICAgLmNoaWxkcmVuW2FycmF5PFZpZXc+XVxuICogICAgICAgICAgICAgICAgICAgICAuYmluZGluZ0NvbnRleHQgKGluc3RhbmNlKVxuICogICAgICAgICAgICAgICAgICAgICAub3ZlcnJpZGVDb250ZXh0XG4gKiovXG5leHBvcnQgZnVuY3Rpb24gdHJhdmVyc2VDb250cm9sbGVyKGNsYXNzT3JGdW5jdGlvbiwgY29udHJvbGxlciwgaW5mbykge1xuICAgIHZhciBtYXRjaGVzID0gW107XG4gICAgaWYgKCFjb250cm9sbGVyIHx8IGluZm8ucHJldmlvdXNseVRyYXZlcnNlZC5oYXMoY29udHJvbGxlcikpXG4gICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIGluZm8ucHJldmlvdXNseVRyYXZlcnNlZC5hZGQoY29udHJvbGxlcik7XG4gICAgbWF0Y2hlcy5wdXNoLmFwcGx5KG1hdGNoZXMsIHRyYXZlcnNlQmVoYXZpb3JSZXNvdXJjZShjbGFzc09yRnVuY3Rpb24sIGNvbnRyb2xsZXIuYmVoYXZpb3IsIF9fYXNzaWduKHt9LCBpbmZvLCB7IHBhcmVudENvbnRyb2xsZXI6IGNvbnRyb2xsZXIsIGltbWVkaWF0ZVBhcmVudDogY29udHJvbGxlciwgcHJvcGVydHlJblBhcmVudDogJ2JlaGF2aW9yJyB9KSkuY29uY2F0KHRyYXZlcnNlQmVoYXZpb3JJbnN0cnVjdGlvbihjbGFzc09yRnVuY3Rpb24sIGNvbnRyb2xsZXIuaW5zdHJ1Y3Rpb24sIF9fYXNzaWduKHt9LCBpbmZvLCB7IHBhcmVudENvbnRyb2xsZXI6IGNvbnRyb2xsZXIsIGltbWVkaWF0ZVBhcmVudDogY29udHJvbGxlciwgcHJvcGVydHlJblBhcmVudDogJ2luc3RydWN0aW9uJyB9KSksIHRyYXZlcnNlVmlldyhjbGFzc09yRnVuY3Rpb24sIGNvbnRyb2xsZXIuc2NvcGUsIF9fYXNzaWduKHt9LCBpbmZvLCB7IHBhcmVudENvbnRyb2xsZXI6IGNvbnRyb2xsZXIsIGltbWVkaWF0ZVBhcmVudDogY29udHJvbGxlciwgcHJvcGVydHlJblBhcmVudDogJ3Njb3BlJyB9KSksIHRyYXZlcnNlVmlldyhjbGFzc09yRnVuY3Rpb24sIGNvbnRyb2xsZXIudmlldywgX19hc3NpZ24oe30sIGluZm8sIHsgcGFyZW50Q29udHJvbGxlcjogY29udHJvbGxlciwgaW1tZWRpYXRlUGFyZW50OiBjb250cm9sbGVyLCBwcm9wZXJ0eUluUGFyZW50OiAndmlldycgfSkpLCB0cmF2ZXJzZVZpZXdNb2RlbChjbGFzc09yRnVuY3Rpb24sIGNvbnRyb2xsZXIudmlld01vZGVsLCBfX2Fzc2lnbih7fSwgaW5mbywgeyBwYXJlbnRDb250cm9sbGVyOiBjb250cm9sbGVyLCBpbW1lZGlhdGVQYXJlbnQ6IGNvbnRyb2xsZXIsIHByb3BlcnR5SW5QYXJlbnQ6ICd2aWV3TW9kZWwnIH0pKSkpO1xuICAgIHJldHVybiBtYXRjaGVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyYXZlcnNlQmVoYXZpb3JSZXNvdXJjZShjbGFzc09yRnVuY3Rpb24sIGJlaGF2aW9yLCBpbmZvKSB7XG4gICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICBpZiAoIWJlaGF2aW9yIHx8IGluZm8ucHJldmlvdXNseVRyYXZlcnNlZC5oYXMoYmVoYXZpb3IpKVxuICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICBpbmZvLnByZXZpb3VzbHlUcmF2ZXJzZWQuYWRkKGJlaGF2aW9yKTtcbiAgICBpZiAoYmVoYXZpb3IudGFyZ2V0ID09PSBjbGFzc09yRnVuY3Rpb24pIHtcbiAgICAgICAgbWF0Y2hlcy5wdXNoKF9fYXNzaWduKHt9LCBpbmZvLCB7IGltbWVkaWF0ZVBhcmVudDogYmVoYXZpb3IsIHByb3BlcnR5SW5QYXJlbnQ6ICd0YXJnZXQnIH0pKTtcbiAgICB9XG4gICAgbWF0Y2hlcy5wdXNoLmFwcGx5KG1hdGNoZXMsIHRyYXZlcnNlVmlld0ZhY3RvcnkoY2xhc3NPckZ1bmN0aW9uLCBiZWhhdmlvci52aWV3RmFjdG9yeSwgX19hc3NpZ24oe30sIGluZm8sIHsgaW1tZWRpYXRlUGFyZW50OiBiZWhhdmlvciwgcHJvcGVydHlJblBhcmVudDogJ3ZpZXdGYWN0b3J5JyB9KSkpO1xuICAgIHJldHVybiBtYXRjaGVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyYXZlcnNlVmlld0ZhY3RvcnkoY2xhc3NPckZ1bmN0aW9uLCB2aWV3RmFjdG9yeSwgaW5mbykge1xuICAgIHZhciBtYXRjaGVzID0gW107XG4gICAgaWYgKCF2aWV3RmFjdG9yeSB8fCBpbmZvLnByZXZpb3VzbHlUcmF2ZXJzZWQuaGFzKHZpZXdGYWN0b3J5KSlcbiAgICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgaW5mby5wcmV2aW91c2x5VHJhdmVyc2VkLmFkZCh2aWV3RmFjdG9yeSk7XG4gICAgaWYgKHZpZXdGYWN0b3J5Lmluc3RydWN0aW9ucykge1xuICAgICAgICBPYmplY3Qua2V5cyh2aWV3RmFjdG9yeS5pbnN0cnVjdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKGluc3RydWN0aW9uS2V5KSB7XG4gICAgICAgICAgICB2YXIgaW5zdHJ1Y3Rpb24gPSB2aWV3RmFjdG9yeS5pbnN0cnVjdGlvbnNbaW5zdHJ1Y3Rpb25LZXldO1xuICAgICAgICAgICAgbWF0Y2hlcy5wdXNoLmFwcGx5KG1hdGNoZXMsIHRyYXZlcnNlVmlld0ZhY3RvcnkoY2xhc3NPckZ1bmN0aW9uLCBpbnN0cnVjdGlvbi52aWV3RmFjdG9yeSwgX19hc3NpZ24oe30sIGluZm8sIHsgaW1tZWRpYXRlUGFyZW50OiBpbnN0cnVjdGlvbiwgcHJvcGVydHlJblBhcmVudDogJ3ZpZXdGYWN0b3J5JyB9KSkpO1xuICAgICAgICAgICAgaWYgKGluc3RydWN0aW9uLnByb3ZpZGVycyAmJiBpbnN0cnVjdGlvbi5wcm92aWRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb24ucHJvdmlkZXJzLmZvckVhY2goZnVuY3Rpb24gKHByb3ZpZGVyS2V5LCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvdmlkZXJLZXkgPT09IGNsYXNzT3JGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKF9fYXNzaWduKHt9LCBpbmZvLCB7IGltbWVkaWF0ZVBhcmVudDogaW5zdHJ1Y3Rpb24ucHJvdmlkZXJzLCBwcm9wZXJ0eUluUGFyZW50OiBpbmRleCB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh2aWV3RmFjdG9yeS5yZXNvdXJjZXMpIHtcbiAgICAgICAgbWF0Y2hlcy5wdXNoLmFwcGx5KG1hdGNoZXMsIHRyYXZlcnNlVmlld1Jlc291cmNlcyhjbGFzc09yRnVuY3Rpb24sIHZpZXdGYWN0b3J5LnJlc291cmNlcywgX19hc3NpZ24oe30sIGluZm8sIHsgaW1tZWRpYXRlUGFyZW50OiB2aWV3RmFjdG9yeSwgcHJvcGVydHlJblBhcmVudDogJ3Jlc291cmNlcycgfSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJhdmVyc2VWaWV3UmVzb3VyY2VzKGNsYXNzT3JGdW5jdGlvbiwgdmlld1Jlc291cmNlcywgaW5mbykge1xuICAgIHZhciBtYXRjaGVzID0gW107XG4gICAgaWYgKCF2aWV3UmVzb3VyY2VzIHx8IGluZm8ucHJldmlvdXNseVRyYXZlcnNlZC5oYXModmlld1Jlc291cmNlcykpXG4gICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIGluZm8ucHJldmlvdXNseVRyYXZlcnNlZC5hZGQodmlld1Jlc291cmNlcyk7XG4gICAgWydiaW5kaW5nQmVoYXZpb3JzJywgJ3ZhbHVlQ29udmVydGVycyddLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdmFyIHZpZXdSZXNvdXJjZUluc3RhbmNlcyA9IHZpZXdSZXNvdXJjZXNbdHlwZV07XG4gICAgICAgIGlmICh2aWV3UmVzb3VyY2VJbnN0YW5jZXMpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHZpZXdSZXNvdXJjZUluc3RhbmNlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdmlld1Jlc291cmNlSW5zdGFuY2VzW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLmNvbnN0cnVjdG9yID09PSBjbGFzc09yRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKF9fYXNzaWduKHt9LCBpbmZvLCB7IGltbWVkaWF0ZVBhcmVudDogdmlld1Jlc291cmNlSW5zdGFuY2VzLCBwcm9wZXJ0eUluUGFyZW50OiBrZXksIGluc3RhbmNlOiB0cnVlIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIG1hdGNoZXMucHVzaC5hcHBseShtYXRjaGVzLCB0cmF2ZXJzZVZpZXdSZXNvdXJjZXMoY2xhc3NPckZ1bmN0aW9uLCB2aWV3UmVzb3VyY2VzLnBhcmVudCwgX19hc3NpZ24oe30sIGluZm8sIHsgaW1tZWRpYXRlUGFyZW50OiB2aWV3UmVzb3VyY2VzLCBwcm9wZXJ0eUluUGFyZW50OiAncGFyZW50JyB9KSkpO1xuICAgIHJldHVybiBtYXRjaGVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyYXZlcnNlQmVoYXZpb3JJbnN0cnVjdGlvbihjbGFzc09yRnVuY3Rpb24sIGJlaGF2aW9ySW5zdHJ1Y3Rpb24sIGluZm8pIHtcbiAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuICAgIGlmICghYmVoYXZpb3JJbnN0cnVjdGlvbiB8fCBpbmZvLnByZXZpb3VzbHlUcmF2ZXJzZWQuaGFzKGJlaGF2aW9ySW5zdHJ1Y3Rpb24pKVxuICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICBpbmZvLnByZXZpb3VzbHlUcmF2ZXJzZWQuYWRkKGJlaGF2aW9ySW5zdHJ1Y3Rpb24pO1xuICAgIG1hdGNoZXMucHVzaC5hcHBseShtYXRjaGVzLCB0cmF2ZXJzZVZpZXdGYWN0b3J5KGNsYXNzT3JGdW5jdGlvbiwgYmVoYXZpb3JJbnN0cnVjdGlvbi52aWV3RmFjdG9yeSwgX19hc3NpZ24oe30sIGluZm8sIHsgaW1tZWRpYXRlUGFyZW50OiBiZWhhdmlvckluc3RydWN0aW9uLCBwcm9wZXJ0eUluUGFyZW50OiAndmlld0ZhY3RvcnknIH0pKS5jb25jYXQodHJhdmVyc2VWaWV3TW9kZWwoY2xhc3NPckZ1bmN0aW9uLCBiZWhhdmlvckluc3RydWN0aW9uLnZpZXdNb2RlbCwgX19hc3NpZ24oe30sIGluZm8sIHsgaW1tZWRpYXRlUGFyZW50OiBiZWhhdmlvckluc3RydWN0aW9uLCBwcm9wZXJ0eUluUGFyZW50OiAndmlld01vZGVsJyB9KSkpKTtcbiAgICByZXR1cm4gbWF0Y2hlcztcbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmF2ZXJzZVZpZXdNb2RlbChjbGFzc09yRnVuY3Rpb24sIHZpZXdNb2RlbCwgaW5mbykge1xuICAgIHZhciBtYXRjaGVzID0gW107XG4gICAgaWYgKCF2aWV3TW9kZWwpXG4gICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIHZhciBkdXBsaWNhdGUgPSBpbmZvLnByZXZpb3VzbHlUcmF2ZXJzZWQuaGFzKHZpZXdNb2RlbCk7XG4gICAgaW5mby5wcmV2aW91c2x5VHJhdmVyc2VkLmFkZCh2aWV3TW9kZWwpO1xuICAgIGlmICh2aWV3TW9kZWwuY29uc3RydWN0b3IgPT09IGNsYXNzT3JGdW5jdGlvbikge1xuICAgICAgICBtYXRjaGVzLnB1c2goX19hc3NpZ24oe30sIGluZm8sIHsgaW5zdGFuY2U6IHRydWUsIGR1cGxpY2F0ZTogZHVwbGljYXRlIH0pKTtcbiAgICAgICAgaWYgKGR1cGxpY2F0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWF0Y2hlcy5wdXNoLmFwcGx5KG1hdGNoZXMsIHRyYXZlcnNlT3ZlcnJpZGVDb250ZXh0KGNsYXNzT3JGdW5jdGlvbiwgdmlld01vZGVsLm92ZXJyaWRlQ29udGV4dCwgX19hc3NpZ24oe30sIGluZm8sIHsgaW1tZWRpYXRlUGFyZW50OiB2aWV3TW9kZWwsIHByb3BlcnR5SW5QYXJlbnQ6ICdvdmVycmlkZUNvbnRleHQnIH0pKS5jb25jYXQodHJhdmVyc2VSb3V0ZXIoY2xhc3NPckZ1bmN0aW9uLCB2aWV3TW9kZWwucm91dGVyLCBfX2Fzc2lnbih7fSwgaW5mbywgeyBpbW1lZGlhdGVQYXJlbnQ6IHZpZXdNb2RlbCwgcHJvcGVydHlJblBhcmVudDogJ3JvdXRlcicgfSkpKSk7XG4gICAgcmV0dXJuIG1hdGNoZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJhdmVyc2VSb3V0ZXIoY2xhc3NPckZ1bmN0aW9uLCByb3V0ZXIsIGluZm8pIHtcbiAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuICAgIGlmICghcm91dGVyIHx8IGluZm8ucHJldmlvdXNseVRyYXZlcnNlZC5oYXMocm91dGVyKSlcbiAgICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgaW5mby5wcmV2aW91c2x5VHJhdmVyc2VkLmFkZChyb3V0ZXIpO1xuICAgIGlmIChyb3V0ZXIudmlld1BvcnRzKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHJvdXRlci52aWV3UG9ydHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgdmFyIHZpZXdQb3J0ID0gcm91dGVyLnZpZXdQb3J0c1trZXldOyAvLyBhcyBSb3V0ZXJWaWV3O1xuICAgICAgICAgICAgbWF0Y2hlcy5wdXNoLmFwcGx5KC8vIGFzIFJvdXRlclZpZXc7XG4gICAgICAgICAgICBtYXRjaGVzLCB0cmF2ZXJzZVJvdXRlclZpZXcoY2xhc3NPckZ1bmN0aW9uLCB2aWV3UG9ydCwgX19hc3NpZ24oe30sIGluZm8sIHsgaW1tZWRpYXRlUGFyZW50OiByb3V0ZXIudmlld1BvcnRzLCBwcm9wZXJ0eUluUGFyZW50OiBrZXkgfSkpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBtYXRjaGVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyYXZlcnNlUm91dGVyVmlldyhjbGFzc09yRnVuY3Rpb24sIHJvdXRlclZpZXcsIGluZm8pIHtcbiAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuICAgIGlmICghcm91dGVyVmlldyB8fCBpbmZvLnByZXZpb3VzbHlUcmF2ZXJzZWQuaGFzKHJvdXRlclZpZXcpKVxuICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICBpbmZvLnByZXZpb3VzbHlUcmF2ZXJzZWQuYWRkKHJvdXRlclZpZXcpO1xuICAgIG1hdGNoZXMucHVzaC5hcHBseShtYXRjaGVzLCB0cmF2ZXJzZU92ZXJyaWRlQ29udGV4dChjbGFzc09yRnVuY3Rpb24sIHJvdXRlclZpZXcub3ZlcnJpZGVDb250ZXh0LCBfX2Fzc2lnbih7fSwgaW5mbywgeyBpbW1lZGlhdGVQYXJlbnQ6IHJvdXRlclZpZXcsIHByb3BlcnR5SW5QYXJlbnQ6ICdvdmVycmlkZUNvbnRleHQnIH0pKS5jb25jYXQodHJhdmVyc2VWaWV3KGNsYXNzT3JGdW5jdGlvbiwgcm91dGVyVmlldy5vd25pbmdWaWV3LCBfX2Fzc2lnbih7fSwgaW5mbywgeyBpbW1lZGlhdGVQYXJlbnQ6IHJvdXRlclZpZXcsIHByb3BlcnR5SW5QYXJlbnQ6ICdvd25pbmdWaWV3JyB9KSksIHRyYXZlcnNlVmlldyhjbGFzc09yRnVuY3Rpb24sIHJvdXRlclZpZXcudmlldywgX19hc3NpZ24oe30sIGluZm8sIHsgaW1tZWRpYXRlUGFyZW50OiByb3V0ZXJWaWV3LCBwcm9wZXJ0eUluUGFyZW50OiAndmlldycgfSkpLCB0cmF2ZXJzZVZpZXdTbG90KGNsYXNzT3JGdW5jdGlvbiwgcm91dGVyVmlldy52aWV3U2xvdCwgX19hc3NpZ24oe30sIGluZm8sIHsgaW1tZWRpYXRlUGFyZW50OiByb3V0ZXJWaWV3LCBwcm9wZXJ0eUluUGFyZW50OiAndmlld1Nsb3QnIH0pKSkpO1xuICAgIHJldHVybiBtYXRjaGVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyYXZlcnNlVmlldyhjbGFzc09yRnVuY3Rpb24sIHZpZXcsIGluZm8pIHtcbiAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuICAgIGlmICghdmlldyB8fCBpbmZvLnByZXZpb3VzbHlUcmF2ZXJzZWQuaGFzKHZpZXcpKVxuICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICBpbmZvLnByZXZpb3VzbHlUcmF2ZXJzZWQuYWRkKHZpZXcpO1xuICAgIG1hdGNoZXMucHVzaC5hcHBseShtYXRjaGVzLCB0cmF2ZXJzZVZpZXdNb2RlbChjbGFzc09yRnVuY3Rpb24sIHZpZXcuYmluZGluZ0NvbnRleHQsIF9fYXNzaWduKHt9LCBpbmZvLCB7IHJlbGF0ZWRWaWV3OiB2aWV3LCBpbW1lZGlhdGVQYXJlbnQ6IHZpZXcsIHByb3BlcnR5SW5QYXJlbnQ6ICdiaW5kaW5nQ29udGV4dCcgfSkpLmNvbmNhdCh0cmF2ZXJzZUNvbnRyb2xsZXIoY2xhc3NPckZ1bmN0aW9uLCB2aWV3LmNvbnRyb2xsZXIsIF9fYXNzaWduKHt9LCBpbmZvLCB7IHJlbGF0ZWRWaWV3OiB2aWV3LCBpbW1lZGlhdGVQYXJlbnQ6IHZpZXcsIHByb3BlcnR5SW5QYXJlbnQ6ICdjb250cm9sbGVyJyB9KSksIHRyYXZlcnNlT3ZlcnJpZGVDb250ZXh0KGNsYXNzT3JGdW5jdGlvbiwgdmlldy5vdmVycmlkZUNvbnRleHQsIF9fYXNzaWduKHt9LCBpbmZvLCB7IHJlbGF0ZWRWaWV3OiB2aWV3LCBpbW1lZGlhdGVQYXJlbnQ6IHZpZXcsIHByb3BlcnR5SW5QYXJlbnQ6ICdvdmVycmlkZUNvbnRleHQnIH0pKSwgdHJhdmVyc2VWaWV3UmVzb3VyY2VzKGNsYXNzT3JGdW5jdGlvbiwgdmlldy5yZXNvdXJjZXMsIF9fYXNzaWduKHt9LCBpbmZvLCB7IHJlbGF0ZWRWaWV3OiB2aWV3LCBpbW1lZGlhdGVQYXJlbnQ6IHZpZXcsIHByb3BlcnR5SW5QYXJlbnQ6ICdyZXNvdXJjZXMnIH0pKSwgdHJhdmVyc2VWaWV3RmFjdG9yeShjbGFzc09yRnVuY3Rpb24sIHZpZXcudmlld0ZhY3RvcnksIF9fYXNzaWduKHt9LCBpbmZvLCB7IHJlbGF0ZWRWaWV3OiB2aWV3LCBpbW1lZGlhdGVQYXJlbnQ6IHZpZXcsIHByb3BlcnR5SW5QYXJlbnQ6ICd2aWV3RmFjdG9yeScgfSkpKSk7XG4gICAgaWYgKHZpZXcuY29udHJvbGxlcnMgJiYgdmlldy5jb250cm9sbGVycy5sZW5ndGgpIHtcbiAgICAgICAgdmlldy5jb250cm9sbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChjb250cm9sbGVyLCBpbmRleCkge1xuICAgICAgICAgICAgbWF0Y2hlcy5wdXNoLmFwcGx5KG1hdGNoZXMsIHRyYXZlcnNlQ29udHJvbGxlcihjbGFzc09yRnVuY3Rpb24sIGNvbnRyb2xsZXIsIF9fYXNzaWduKHt9LCBpbmZvLCB7IHJlbGF0ZWRWaWV3OiB2aWV3LCBpbW1lZGlhdGVQYXJlbnQ6IHZpZXcuY29udHJvbGxlcnMsIHByb3BlcnR5SW5QYXJlbnQ6IGluZGV4IH0pKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodmlldy5jaGlsZHJlbiAmJiB2aWV3LmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICB2aWV3LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKHZpZXdTbG90LCBpbmRleCkge1xuICAgICAgICAgICAgbWF0Y2hlcy5wdXNoLmFwcGx5KG1hdGNoZXMsIHRyYXZlcnNlVmlld1Nsb3QoY2xhc3NPckZ1bmN0aW9uLCB2aWV3U2xvdCwgX19hc3NpZ24oe30sIGluZm8sIHsgY2hpbGRPZlZpZXdTbG90OiB2aWV3U2xvdCwgcmVsYXRlZFZpZXc6IHZpZXcsIGltbWVkaWF0ZVBhcmVudDogdmlldy5jaGlsZHJlbiwgcHJvcGVydHlJblBhcmVudDogaW5kZXggfSkpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBtYXRjaGVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyYXZlcnNlT3ZlcnJpZGVDb250ZXh0KGNsYXNzT3JGdW5jdGlvbiwgb3ZlcnJpZGVDb250ZXh0LCBpbmZvKSB7XG4gICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICBpZiAoIW92ZXJyaWRlQ29udGV4dCB8fCBpbmZvLnByZXZpb3VzbHlUcmF2ZXJzZWQuaGFzKG92ZXJyaWRlQ29udGV4dCkpXG4gICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIGluZm8ucHJldmlvdXNseVRyYXZlcnNlZC5hZGQob3ZlcnJpZGVDb250ZXh0KTtcbiAgICBtYXRjaGVzLnB1c2guYXBwbHkobWF0Y2hlcywgdHJhdmVyc2VWaWV3TW9kZWwoY2xhc3NPckZ1bmN0aW9uLCBvdmVycmlkZUNvbnRleHQuYmluZGluZ0NvbnRleHQsIF9fYXNzaWduKHt9LCBpbmZvLCB7IGltbWVkaWF0ZVBhcmVudDogb3ZlcnJpZGVDb250ZXh0LCBwcm9wZXJ0eUluUGFyZW50OiAnYmluZGluZ0NvbnRleHQnIH0pKS5jb25jYXQodHJhdmVyc2VPdmVycmlkZUNvbnRleHQoY2xhc3NPckZ1bmN0aW9uLCBvdmVycmlkZUNvbnRleHQucGFyZW50T3ZlcnJpZGVDb250ZXh0LCBfX2Fzc2lnbih7fSwgaW5mbywgeyBpbW1lZGlhdGVQYXJlbnQ6IG92ZXJyaWRlQ29udGV4dCwgcHJvcGVydHlJblBhcmVudDogJ3BhcmVudE92ZXJyaWRlQ29udGV4dCcgfSkpKSk7XG4gICAgcmV0dXJuIG1hdGNoZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJhdmVyc2VWaWV3U2xvdChjbGFzc09yRnVuY3Rpb24sIHZpZXdTbG90LCBpbmZvKSB7XG4gICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICBpZiAoIXZpZXdTbG90IHx8IGluZm8ucHJldmlvdXNseVRyYXZlcnNlZC5oYXModmlld1Nsb3QpKVxuICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICBpbmZvLnByZXZpb3VzbHlUcmF2ZXJzZWQuYWRkKHZpZXdTbG90KTtcbiAgICBtYXRjaGVzLnB1c2guYXBwbHkobWF0Y2hlcywgdHJhdmVyc2VWaWV3TW9kZWwoY2xhc3NPckZ1bmN0aW9uLCB2aWV3U2xvdC5iaW5kaW5nQ29udGV4dCwgX19hc3NpZ24oe30sIGluZm8sIHsgaW1tZWRpYXRlUGFyZW50OiB2aWV3U2xvdCwgcHJvcGVydHlJblBhcmVudDogJ2JpbmRpbmdDb250ZXh0JyB9KSkuY29uY2F0KHRyYXZlcnNlT3ZlcnJpZGVDb250ZXh0KGNsYXNzT3JGdW5jdGlvbiwgdmlld1Nsb3Qub3ZlcnJpZGVDb250ZXh0LCBfX2Fzc2lnbih7fSwgaW5mbywgeyBpbW1lZGlhdGVQYXJlbnQ6IHZpZXdTbG90LCBwcm9wZXJ0eUluUGFyZW50OiAnb3ZlcnJpZGVDb250ZXh0JyB9KSkpKTtcbiAgICBpZiAodmlld1Nsb3QuY2hpbGRyZW4gJiYgdmlld1Nsb3QuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIHZpZXdTbG90LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkLCBpbmRleCkge1xuICAgICAgICAgICAgbWF0Y2hlcy5wdXNoLmFwcGx5KG1hdGNoZXMsIHRyYXZlcnNlVmlldyhjbGFzc09yRnVuY3Rpb24sIGNoaWxkLCBfX2Fzc2lnbih7fSwgaW5mbywgeyBjaGlsZE9mVmlld1Nsb3Q6IHZpZXdTbG90LCByZWxhdGVkVmlldzogY2hpbGQsIGltbWVkaWF0ZVBhcmVudDogdmlld1Nsb3QuY2hpbGRyZW4sIHByb3BlcnR5SW5QYXJlbnQ6IGluZGV4IH0pKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbWF0Y2hlcztcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///CShm\n");

/***/ }),

/***/ "Hw1k":
/*!************************************************************************************************!*\
  !*** ./node_modules/aurelia-hot-module-reload/dist/native-modules/view-traverse-controller.js ***!
  \************************************************************************************************/
/*! exports provided: getViewSlots, anyMatchingChildren, traverseControllerForTemplates, getElementsToRerender */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getViewSlots\", function() { return getViewSlots; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"anyMatchingChildren\", function() { return anyMatchingChildren; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"traverseControllerForTemplates\", function() { return traverseControllerForTemplates; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getElementsToRerender\", function() { return getElementsToRerender; });\n/* harmony import */ var aurelia_templating__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aurelia-templating */ \"hij8\");\n/* harmony import */ var _aurelia_hot_module_reload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./aurelia-hot-module-reload */ \"5bjL\");\n\n\nfunction getViewSlots(view) {\n    if (view.children && view.children.length) {\n        return view.children.filter(function (viewSlot) {\n            return viewSlot instanceof aurelia_templating__WEBPACK_IMPORTED_MODULE_0__[\"ViewSlot\"] && viewSlot.children && viewSlot.children.length;\n        });\n    }\n    return [];\n}\nfunction anyMatchingChildren(viewSlot, matchingTemplate) {\n    return !!viewSlot.children.find(function (view) { return view.viewFactory && view.viewFactory.template === matchingTemplate; });\n}\nfunction traverseControllerForTemplates(auController, matchingTemplate) {\n    var matchingViewControllers = [];\n    var matchingScopeControllers = [];\n    var view = (auController.view);\n    var scope = (auController.scope);\n    var slotsWithMatchingViews = [];\n    if (view && view.viewFactory && view.viewFactory.template === matchingTemplate) {\n        matchingViewControllers = [auController]; // [view.controller] // whole View and all of its children will be rendered\n    }\n    else if (scope && scope.controller && scope.viewFactory && scope.viewFactory.template === matchingTemplate) {\n        matchingScopeControllers = [scope.controller];\n    }\n    else {\n        var viewViewSlots = view ? getViewSlots(view) : [];\n        var scopeViewSlots = scope ? getViewSlots(scope) : [];\n        slotsWithMatchingViews = Array.from(new Set(viewViewSlots.concat(scopeViewSlots))).filter(function (slot) { return anyMatchingChildren(slot, matchingTemplate); });\n    }\n    return {\n        matchingViewControllers: matchingViewControllers,\n        matchingScopeControllers: matchingScopeControllers,\n        slotsWithMatchingViews: slotsWithMatchingViews\n    };\n}\nfunction getElementsToRerender(template) {\n    // get visible elements to re-render:\n    var auElements = Object(_aurelia_hot_module_reload__WEBPACK_IMPORTED_MODULE_1__[\"getAuElements\"])();\n    var controllers = auElements.filter(function (el) {\n        /* NOTE: viewless components like blur-image do not have el.au.controller set */\n        return el.au && el.au.controller && (el.au.controller.view || el.au.controller.scope);\n    }).map(function (el) { return el.au.controller; });\n    var viewControllers = new Set();\n    var scopeControllers = new Set();\n    var slots = new Set();\n    controllers\n        .forEach(function (controller) {\n        var _a = traverseControllerForTemplates(controller, template), matchingViewControllers = _a.matchingViewControllers, matchingScopeControllers = _a.matchingScopeControllers, slotsWithMatchingViews = _a.slotsWithMatchingViews;\n        matchingViewControllers.forEach(function (controller) { return viewControllers.add(controller); });\n        matchingScopeControllers.forEach(function (controller) { return scopeControllers.add(controller); });\n        slotsWithMatchingViews.forEach(function (slot) { return slots.add(slot); });\n    });\n    var toRender = { viewControllers: viewControllers, scopeControllers: scopeControllers, slots: slots };\n    return toRender;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSHcxay5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXJlbGlhLWhvdC1tb2R1bGUtcmVsb2FkL2Rpc3QvbmF0aXZlLW1vZHVsZXMvdmlldy10cmF2ZXJzZS1jb250cm9sbGVyLmpzPzFmMGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmlld1Nsb3QgfSBmcm9tICdhdXJlbGlhLXRlbXBsYXRpbmcnO1xuaW1wb3J0IHsgZ2V0QXVFbGVtZW50cyB9IGZyb20gJy4vYXVyZWxpYS1ob3QtbW9kdWxlLXJlbG9hZCc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0Vmlld1Nsb3RzKHZpZXcpIHtcbiAgICBpZiAodmlldy5jaGlsZHJlbiAmJiB2aWV3LmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdmlldy5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKHZpZXdTbG90KSB7XG4gICAgICAgICAgICByZXR1cm4gdmlld1Nsb3QgaW5zdGFuY2VvZiBWaWV3U2xvdCAmJiB2aWV3U2xvdC5jaGlsZHJlbiAmJiB2aWV3U2xvdC5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gW107XG59XG5leHBvcnQgZnVuY3Rpb24gYW55TWF0Y2hpbmdDaGlsZHJlbih2aWV3U2xvdCwgbWF0Y2hpbmdUZW1wbGF0ZSkge1xuICAgIHJldHVybiAhIXZpZXdTbG90LmNoaWxkcmVuLmZpbmQoZnVuY3Rpb24gKHZpZXcpIHsgcmV0dXJuIHZpZXcudmlld0ZhY3RvcnkgJiYgdmlldy52aWV3RmFjdG9yeS50ZW1wbGF0ZSA9PT0gbWF0Y2hpbmdUZW1wbGF0ZTsgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJhdmVyc2VDb250cm9sbGVyRm9yVGVtcGxhdGVzKGF1Q29udHJvbGxlciwgbWF0Y2hpbmdUZW1wbGF0ZSkge1xuICAgIHZhciBtYXRjaGluZ1ZpZXdDb250cm9sbGVycyA9IFtdO1xuICAgIHZhciBtYXRjaGluZ1Njb3BlQ29udHJvbGxlcnMgPSBbXTtcbiAgICB2YXIgdmlldyA9IChhdUNvbnRyb2xsZXIudmlldyk7XG4gICAgdmFyIHNjb3BlID0gKGF1Q29udHJvbGxlci5zY29wZSk7XG4gICAgdmFyIHNsb3RzV2l0aE1hdGNoaW5nVmlld3MgPSBbXTtcbiAgICBpZiAodmlldyAmJiB2aWV3LnZpZXdGYWN0b3J5ICYmIHZpZXcudmlld0ZhY3RvcnkudGVtcGxhdGUgPT09IG1hdGNoaW5nVGVtcGxhdGUpIHtcbiAgICAgICAgbWF0Y2hpbmdWaWV3Q29udHJvbGxlcnMgPSBbYXVDb250cm9sbGVyXTsgLy8gW3ZpZXcuY29udHJvbGxlcl0gLy8gd2hvbGUgVmlldyBhbmQgYWxsIG9mIGl0cyBjaGlsZHJlbiB3aWxsIGJlIHJlbmRlcmVkXG4gICAgfVxuICAgIGVsc2UgaWYgKHNjb3BlICYmIHNjb3BlLmNvbnRyb2xsZXIgJiYgc2NvcGUudmlld0ZhY3RvcnkgJiYgc2NvcGUudmlld0ZhY3RvcnkudGVtcGxhdGUgPT09IG1hdGNoaW5nVGVtcGxhdGUpIHtcbiAgICAgICAgbWF0Y2hpbmdTY29wZUNvbnRyb2xsZXJzID0gW3Njb3BlLmNvbnRyb2xsZXJdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHZpZXdWaWV3U2xvdHMgPSB2aWV3ID8gZ2V0Vmlld1Nsb3RzKHZpZXcpIDogW107XG4gICAgICAgIHZhciBzY29wZVZpZXdTbG90cyA9IHNjb3BlID8gZ2V0Vmlld1Nsb3RzKHNjb3BlKSA6IFtdO1xuICAgICAgICBzbG90c1dpdGhNYXRjaGluZ1ZpZXdzID0gQXJyYXkuZnJvbShuZXcgU2V0KHZpZXdWaWV3U2xvdHMuY29uY2F0KHNjb3BlVmlld1Nsb3RzKSkpLmZpbHRlcihmdW5jdGlvbiAoc2xvdCkgeyByZXR1cm4gYW55TWF0Y2hpbmdDaGlsZHJlbihzbG90LCBtYXRjaGluZ1RlbXBsYXRlKTsgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG1hdGNoaW5nVmlld0NvbnRyb2xsZXJzOiBtYXRjaGluZ1ZpZXdDb250cm9sbGVycyxcbiAgICAgICAgbWF0Y2hpbmdTY29wZUNvbnRyb2xsZXJzOiBtYXRjaGluZ1Njb3BlQ29udHJvbGxlcnMsXG4gICAgICAgIHNsb3RzV2l0aE1hdGNoaW5nVmlld3M6IHNsb3RzV2l0aE1hdGNoaW5nVmlld3NcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRzVG9SZXJlbmRlcih0ZW1wbGF0ZSkge1xuICAgIC8vIGdldCB2aXNpYmxlIGVsZW1lbnRzIHRvIHJlLXJlbmRlcjpcbiAgICB2YXIgYXVFbGVtZW50cyA9IGdldEF1RWxlbWVudHMoKTtcbiAgICB2YXIgY29udHJvbGxlcnMgPSBhdUVsZW1lbnRzLmZpbHRlcihmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgLyogTk9URTogdmlld2xlc3MgY29tcG9uZW50cyBsaWtlIGJsdXItaW1hZ2UgZG8gbm90IGhhdmUgZWwuYXUuY29udHJvbGxlciBzZXQgKi9cbiAgICAgICAgcmV0dXJuIGVsLmF1ICYmIGVsLmF1LmNvbnRyb2xsZXIgJiYgKGVsLmF1LmNvbnRyb2xsZXIudmlldyB8fCBlbC5hdS5jb250cm9sbGVyLnNjb3BlKTtcbiAgICB9KS5tYXAoZnVuY3Rpb24gKGVsKSB7IHJldHVybiBlbC5hdS5jb250cm9sbGVyOyB9KTtcbiAgICB2YXIgdmlld0NvbnRyb2xsZXJzID0gbmV3IFNldCgpO1xuICAgIHZhciBzY29wZUNvbnRyb2xsZXJzID0gbmV3IFNldCgpO1xuICAgIHZhciBzbG90cyA9IG5ldyBTZXQoKTtcbiAgICBjb250cm9sbGVyc1xuICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoY29udHJvbGxlcikge1xuICAgICAgICB2YXIgX2EgPSB0cmF2ZXJzZUNvbnRyb2xsZXJGb3JUZW1wbGF0ZXMoY29udHJvbGxlciwgdGVtcGxhdGUpLCBtYXRjaGluZ1ZpZXdDb250cm9sbGVycyA9IF9hLm1hdGNoaW5nVmlld0NvbnRyb2xsZXJzLCBtYXRjaGluZ1Njb3BlQ29udHJvbGxlcnMgPSBfYS5tYXRjaGluZ1Njb3BlQ29udHJvbGxlcnMsIHNsb3RzV2l0aE1hdGNoaW5nVmlld3MgPSBfYS5zbG90c1dpdGhNYXRjaGluZ1ZpZXdzO1xuICAgICAgICBtYXRjaGluZ1ZpZXdDb250cm9sbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChjb250cm9sbGVyKSB7IHJldHVybiB2aWV3Q29udHJvbGxlcnMuYWRkKGNvbnRyb2xsZXIpOyB9KTtcbiAgICAgICAgbWF0Y2hpbmdTY29wZUNvbnRyb2xsZXJzLmZvckVhY2goZnVuY3Rpb24gKGNvbnRyb2xsZXIpIHsgcmV0dXJuIHNjb3BlQ29udHJvbGxlcnMuYWRkKGNvbnRyb2xsZXIpOyB9KTtcbiAgICAgICAgc2xvdHNXaXRoTWF0Y2hpbmdWaWV3cy5mb3JFYWNoKGZ1bmN0aW9uIChzbG90KSB7IHJldHVybiBzbG90cy5hZGQoc2xvdCk7IH0pO1xuICAgIH0pO1xuICAgIHZhciB0b1JlbmRlciA9IHsgdmlld0NvbnRyb2xsZXJzOiB2aWV3Q29udHJvbGxlcnMsIHNjb3BlQ29udHJvbGxlcnM6IHNjb3BlQ29udHJvbGxlcnMsIHNsb3RzOiBzbG90cyB9O1xuICAgIHJldHVybiB0b1JlbmRlcjtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///Hw1k\n");

/***/ })

}]);